for repl: while instead of main inside main as recursion may cause buffer overflow if it runs too long.
exit 0 check to break loop
so flush literally flushes the buffer which had write's args and without it stdout would have waited till program execution completion or \n appears
